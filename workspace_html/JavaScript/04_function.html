<!DOCTYPE html>
<html lang="kr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>04_function.html</title>
    <script>
        // function 키워드로 함수 선언
        // 양식 : function 함수명(전달인자들){}
        // 전달인자에는 타입을 적지 않는다

        function plus(x,y) {
            console.log('x: ', x);
            console.log('y: ', y);
            
            let z = x + y;
            return z;
        }

        let a = plus(2,3); // 실행문
        console.log('a: ', a);

        let b = plus();
        console.log('b: ', b); // (결과) b: NaN
        let c = plus(4);
        console.log('c: ', c); // (결과) c: NaN
        let d = plus(4,5,6,7);
        console.log('d: ', d); // (결과) d: 9
        
        // 방어 코딩
        function plus2(x,y) {
            if (x == undefined){
                x = 0;
            }
            if (y == undefined){
                y = 0 ;
            }
            if (!x) {
                x = 0;
            }
            if (!y){
                y = 0 ;
            }
            return x + y;
        }

        console.log(1,2,3,4,5,6);
        function log( ...obj ){
            console.log( typeof obj ); // 배열
            console.log( obj[1] ); // 배열
            console.log( obj ); // 배열
        }
        log(1,2);
        let e = [10,20];
        console.log( ...e ); 
        console.log( e[0], e[1] ); 

        /* eval(문자열) : string을 javascript로 변환 */
        let f = "console.log(123)";
        eval(f); 

        // 변수에 함수를 담을 수 있음. 바로 실행도 됨
        function print(){
            console.log('print 실행');
        }
        let p = print;
        console.log( 'typeof p :', typeof p );
        p();

        let p2 = print();
        console.log('p2 : ', p2);

        console.log( 'typeof print :', typeof print );

        // 함수명이 같으면 덮어쓴다
        function print2() {
            console.log('print2 실행');
        }
        function print2() {
            console.log('print3 실행');
        }
        print2();
        // 오버로딩되지 않는다
        function over(x){
            console.log('x : ', x);
        }
        function over(x, y){
            console.log('x, y : ', x, y);
        }
        over(1);

        over = 1;
        console.log('typeof over: ', typeof over);
        // over();

        /* callback */
        // 원달러 환율 계산 함수
        function exchange_en_kr( dollar ) {
            return dollar * 1354.75;
        }

        // 달러원 환율 계산 함수
        function exchange_kr_en( won ) {
            return won / 1354.75;
        }

        // 환전 함수
        // 전달인자 : 금액, 환율 계산 함수 
        function exchange (money, callback) {
            if ( typeof callback == 'function' ){
                let result = callback (money);
                return result;
            } else {
                console.log('callback 함수 없음');
            }
        }   
        const money = exchange(1000, exchange_en_kr);
        console.log('환전된 금액은', money, '원');
        exchange(100);

        /* 익명 함수 */
        let an = function () {
            console.log('익명함수');
        }
        an();
        // 위와 동일
        // function an () {
        //     console.log('익명함수');
        // }

        const m = 100;
        exchange(m, an);


        /* 시간 지연 함수 */
        // setTimeout
        // 첫번째 전달인자 : 실행할 함수(콜백함수)
        // 두번째 전달인자 : 지연 시간 (1/1000초)
        // setTimeout(an, 1000 * 3);
        setTimeout(
            function () {
                console.log('3초 뒤 실행됨');
            }
            , 1000 * 3
        );


        // clearTimeout
        let st1 = setTimeout(
            function () {
                console.log('3초 뒤 실행됨');
            }
            , 1000 * 3
        );
        
        console.log('st1', st1);
        clearTimeout(st1);

        // setInterval
        let si = setInterval(
            function(){
                console.log('setInterval 실행')
            }, 1000*2
        )

        setTimeout(
            function (){ 
                clearInterval(si)
            }, 5000
        );



        /* 화살표 함수 arrow function */
        let test0 = function (a,b) {
            console.log(a, b);
            return a;
        }

        let test1 = (a,b) => {
            console.log(a, b);
            return a;
        }
        
        // 전달인자가 하나일 때만
        // 전달인자의 괄호를 생략할 수 있다
        let test2 = (a) => {
            console.log(a);
            return a;
        }

        let test3 = a => {
            console.log(a);
            return a;
        }
        // 전달인자가 없을 때는 () 생략 불가능
        let test4 = () => {
        }

        // 실행문 안의 내용이 return문 "만" 있는 경우
        // return과 { } 생략 가능
        let test5 = (a, b) => {
            return a + b;
        }
        let test6 = (a, b) => a + b;     

        let test7 = a => a * 3;







    </script>
</head>
<body>
    
</body>
</html>